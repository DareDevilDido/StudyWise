<html>
    <head>
        <link rel="shortcut icon" href="{{ url_for('static', filename='assets/images/Studywise_Logo.png') }}" type="image/x-icon">
        <title>Studywise - Your Video</title>

        <!-- Third-party CSS -->
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css">
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <link rel="stylesheet" href="https://unpkg.com/plyr@3/dist/plyr.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/view-video-style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/scrollbar.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/pop-up-style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/flashcard-style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/user-notes.scss') }}">
    </head>

    <body>
        <div class="loader-overlay" id="loaderOverlay">
            <h1 id="loadingMSG">Loading content...</h1>
            <div class="loader"></div>
        </div>
        <div class="main-navbar">
            <img src="{{ url_for('static', filename='assets/images/Studywise_Logo.png') }}" alt="Studywise Logo" class="navbar-logo">
            <div class="navbar-btns">
                <a href="/home"><button>Home</button></a>
                <a href="/home"><button>Your Content</button></a>
                <a onclick="popupPrompt()"><button>Upload Material</button></a>
            </div>
        </div> <!-- Main Navbar end -->
        <div class="page-content">
            <div class="main-frame" id="main-frame">

                <!-- <button class="back-btn" onclick="history.back()" title="Go back"><i class="fa-solid fa-left-long"></i></button> -->
                <h2 id="content-title"></h2>
                <div class="video-container">
                    <video id="video" controls playsinline>
                        <source src="" type="video/mp4" id="video-player"/>
                        <track kind="captions" label="English" srclang="en" src="" default>
                    </video> <!-- Video Tag End -->
                    
                    <div class="video-btns"></div>
                    <div class="style-7" id="videoIndexes"></div>
                    <button id="toggleButton" class="collapsed" title="Show Chapters"></button>

                </div>
                
                <div class="audio-container" style="display: none;">
                    <audio id="audio" controls>
                        <source src="" type="audio/mp3" id="audio-player">
                    </audio>
                </div>
                <p id="transcript" style="display: none;"></p>

                <div id="board">
                    <a href="javascript:;" class="button" id="add_new">Add New Note</a>
                    <a onclick="save_notes()" class="button" id="save">Save Notes</a>
                    <i class="fa-solid fa-check fa-fade fa-xl saved" id="saved" style="display: none;"></i>
                    <div class="save-loader" id="saving" style="display: none;"></div>

                    <div id="delete-confirmation" class="modal">
                        <div class="modal-content">
                            <p>Are you sure you want to delete this note?</p>
                            <button id="confirm-delete">Delete</button>
                            <button id="cancel-delete">Cancel</button>
                        </div>
                    </div>
                </div>

            </div> <!-- Main Frame end -->
            <div id="sidebarViewer" class="sidebar-viewer">

                <div id="flashcard" class="flashcards"> <!-- Flashcards Start -->
                    <h1 class="flashcards-title">Flashcards</h1>
                    <div class="folder">
                        <div id="howMany" class="howMany"></div>
                        <div id="flshcard-quiz-mode">
                        <!--Card-->
                    
                            <div class="card">
                                <div id="front" class="front">
                                </div>
                                <div id="back" class="back">
                                </div>
                            </div>
                    
                            <br>
                            <button id="fail" type="button">Missed It</button>
                            <button id="success" type="button">Got It!</button>
                        
                            <div id ="block">
                                <div id="progress">
                                    <div id="percent">Card 1 of 10</div>
                                    <div id="bar"></div>
                                    <div id="bg-bar"></div>
                                </div>
                            </div>
                                <button id="missed" type="button">Retry Missed</button>
                                <button id="full" type="button">Retry Full Set</button>
                        </div>
                    </div> <!-- Folder End -->
                </div> <!-- Flashcards End -->

                <div id="summary" class="summary">
                    <h1 class="summary-title">Summary</h1>
                    <p id="summaryText" class="style-7">
                        Loading summary...
                    </p>
                </div>

            </div> <!-- Sidebar End -->
                <!-- <div class="sidebar-title">
                    Video Toolbar
                </div> -->
            <div class="sidebar-menu">
                <button class="audio-switch" onclick="toggleAudio()">
                    <h3>Switch to Audio</h3>
                    <span class="fa-solid fa-headphones"></span>
                    <span class="fa-solid fa-video" style="display: none;"></span>
                </button>
                
                <button class="transcript-btn" onclick="toggleTranscript(this)">
                    <h3>Transcript</h3>
                    <span class="fa-regular fa-file-lines fa-2xl"></span>
                </button>

                <button class="flashcard-btn" onclick="toggleFlashcards(this)">
                    <h3>Flashcards</h3>
                    <img src="{{ url_for('static', filename='assets/images/flashcards.png') }}" alt="Flashcards!">
                </button>

                <button class="summary-btn" onclick="toggleSummary(this)">
                    <h3>Summary</h3>
                    <span class="fa-solid fa-align-center"></span>
                </button>

                <button class="chat-btn" onclick="goToChat()">
                    <h3>Go to Chat</h3>
                    <img src="{{ url_for('static', filename='assets/images/bot.png') }}" alt="" class="choice-icon">
                </button>

                <button class="mcq-btn" onclick="goToMCQ()">
                    <h3>Go to MCQ</h3
                        ><span class="fa6-solid--file-pen"></span>
                </button>

                <button class="noteBoard-btn" onclick="toggleBoard()">
                    <h3>Note Board</h3>
                    <span class="fa-solid fa-clipboard"></span>
                </button>

            </div>
        </div>
        <div id="popup-overlay" class="popup-overlay">
            <div class="popup-prompt">
                <button class="close-btn" onclick="closePopup()"><svg viewBox="0 0 22 22" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>cancel</title> <desc>Created with Sketch.</desc> <g id="icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="ui-gambling-website-lined-icnos-casinoshunter" transform="translate(-869.000000, -159.000000)" fill="#ffffff" fill-rule="nonzero"> <g id="square-filled" transform="translate(50.000000, 120.000000)"> <path d="M820.716328,39.2890737 L830,48.573 L839.283672,39.2890737 C839.644156,38.9285898 840.211387,38.9008602 840.603678,39.2058851 L840.710926,39.3021143 C841.101451,39.6926386 841.101451,40.3258036 840.710926,40.7163279 L831.427,50 L840.710926,59.2836721 C841.07141,59.6441561 841.09914,60.2113872 840.794115,60.6036784 L840.697886,60.7109263 C840.307361,61.1014506 839.674196,61.1014506 839.283672,60.7109263 L830,51.427 L820.716328,60.7109263 C820.355844,61.0714102 819.788613,61.0991398 819.396322,60.7941149 L819.289074,60.6978857 C818.898549,60.3073614 818.898549,59.6741964 819.289074,59.2836721 L828.573,50 L819.289074,40.7163279 C818.92859,40.3558439 818.90086,39.7886128 819.205885,39.3963216 L819.302114,39.2890737 C819.692639,38.8985494 820.325804,38.8985494 820.716328,39.2890737 Z M819.996181,40.0092211 L829.987233,50 L819.996181,59.9907789 L820.009221,60.0038195 L830,50.0127671 L839.990779,60.0038195 L840.003819,59.9907789 L830.012767,50 L840.003819,40.0092211 L839.990779,39.9961805 L830,49.9872329 L820.009221,39.9961805 L819.996181,40.0092211 Z" id="cancel"> </path> </g> </g> </g> </g></svg></button>
    
                <div class="popup-content">
                    <h2>What kind of file do you want to upload?</h2>
                    <button onclick="chooseOption('text')">Text-based</button>
                    <button onclick="chooseOption('video')">Video-based</button>
                    <input type="text" placeholder="Insert YouTube video URL" id="YT_link">
                    <button type="submit" onclick="chooseOption('link')">Send Link</button>
                </div>
            </div>
        </div>

        <!-- jQuery and other third-party JS -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
        <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=es6,Array.prototype.includes,CustomEvent,Object.entries,Object.values,URL"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.8.6/umd/react.production.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.6/umd/react-dom.production.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript"></script>
        <script src="https://cdn.rawgit.com/nnattawat/flip/master/dist/jquery.flip.min.js"></script>
        <script src="https://unpkg.com/plyr@3"></script>

        <!-- Custom JS -->
        <script src="{{ url_for('static', filename='js/videoView.js') }}"></script>
        <script src="{{ url_for('static', filename='js/user-notes.js') }}"></script>
        <script src="{{ url_for('static', filename='js/FlashcardsV1_JS.js') }}"></script>
        <script src="https://cdn.plyr.io/3.7.8/demo.js"></script>
    </body>
</html>